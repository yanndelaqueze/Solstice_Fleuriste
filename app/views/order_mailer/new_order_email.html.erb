<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
        <style>
      @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&family=Raleway&display=swap');

      body {
        background-color: #052a2b;
      }

      p {
        font-family: 'Raleway', "sans-serif";
      }

      .banner {
        background-color: #ffffff;
        width: 100%;
        height: 5em;
        display: flex;
        justify-content: space-around;
        align-items: center;
        border-radius: 0.375em;

        h1 {
          text-align: center;
          color: #052a2b;
          font-family: 'Playfair Display', 'serif';
        }
      }

      .container {
        background-color: #ffffff;
        padding: 1em;
        margin-top: 1em;
        margin-bottom: 3em;
        color: #052a2b;
        border-radius: 0.375em;

        .title {
          text-align: center;
          color: #052a2b;
        }
      }

      .title {
        color: #ffffff;
        text-align: center;
        font-family: 'Playfair Display', 'serif';
      }

      .btn-action {
        background-color: #f043ac;
        padding: 1em;
        text-decoration: none;
        font-family: 'Raleway', "sans-serif";
        color: white;
        border: none;

        font-size: 1em;
        line-height: 1.2;
        padding-top: 0.5em;
        padding-bottom: 0.5em;
        border-radius: 0.375em;
        text-align: center;
      }

      .order-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .order-info {
        background-color: white;
        box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        padding: 1em;
        margin-top: 1em;
        margin-bottom: 1em;
        border-radius: 1em;
      }

      .order-items {
        background-color: white;
        box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        padding: 1em;
        margin-top: 1em;
        margin-bottom: 1em;
        border-radius: 1em;
      }

      .infos {
        border: solid;
        border-width: thin;
        border-radius: 0.375em;
        padding: 0.5em;
        margin-bottom: 0.5em;
      }

      .delivery {
        border: solid;
        border-width: thin;
        border-radius: 0.375em;
        padding: 0.5em;
        margin-bottom: 0.5em;
      }

      .item {
        border: solid;
        border-width: thin;
        border-radius: 0.375em;
        padding: 0.5em;
        margin-bottom: 0.5em;
      }
    </style>
  </head>
  <body>
    <div class="banner">
      <img src="https://www.solstice-fleuriste.fr/assets/solstice_logo-0a09fd98b039be54f65e9fe6aa6396e56082c370ada322b5b5209b8d92bbb222.jpg" style="width: 5em;">
    </div>
    <h1 class="title">Nouvelle Commande</h1>
    <div class="container">
      <div class="order-header">
        <h2 class="title">Commande #<%= @order.id%></h2>
        <a href="https://www.solstice-fleuriste.fr/commandes" class="btn-action">Voir les commandes</a>
      </div>
      <div class="order-info">
        <h3 class="title">Détails</h3>
        <div class="infos">
          <p>Transport : <%= @order.transport  %></p>
          <p>Date : <%= @order.date.strftime("%e/%m/%Y")  %></p>
          <p>Prénom : <%= @order.first_name  %> -  Nom : <%= @order.last_name  %> </p>
          <p>email : <%= @order.email  %></p>
        </div>
        <% if @order.transport == "Livraison" %>
          <div class="delivery">
            <p>Informations de Livraison : </p>
            <p>Prénom : <%= @order.delivery_first_name  %> -  Nom : <%= @order.delivery_last_name  %> </p>
            <p>Adresse : <%= @order.delivery_address  %></p>
            <p>Instructions : <%= @order.delivery_instructions  %></p>
          </div>
        <% end %>

      </div>
      <div class="order-items">
        <h3 class="title">Articles (<%= @order.order_items.size %>)</h3>
        <% @order.order_items.each do |item| %>
          <div class="item">
          <p>Produit : <%= item.product.name  %></p>
          <p>Budget : <%= humanized_money_with_symbol(item.price) %></p>
          <p>Occasion : <%= item.occasion  %></p>
          <p>Couleur : <%= item.color  %></p>
          <p>Message : "<%= item.message  %>"</p>
          </div>
        <% end %>
      </div>
    </div>
  </body>
</html>
